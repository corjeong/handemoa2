<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="member.MemberDAO">

<insert id="memberinsert" parameterType="memberdto">
 insert into member (id,nickname,password,email,phone,birth,status) values (#{id},#{nickname},#{password},#{email},#{phone},#{birth},0)
</insert>

<!--  회원정보 검색 
<select id="memberlist" resultType="memberdto">
 select * from member
</select>
-->

<!-- 회원정보 수정
<update id="updatemember" parameterType="memberdto">
	update member
	set name=#{name}
	where id=#{id}
</update>
-->

<select id="checkmember" resultType="int" parameterType="String">
	select count(*) from member where id=#{id}
</select>

<select id="checkmember_nickname" resultType="int" parameterType="String">
	select count(*) from member where nickname=#{nickname}
</select>

<select id="checkmember_email" resultType="int" parameterType="String">
	select count(*) from member where email=#{email}
</select>

<select id="checkmember_phone" resultType="int" parameterType="String">
	select count(*) from member where phone=#{phone}
</select>


<!-- parameterType="int[]" 생략 가능 -->
<!-- 
<select id="paginglist" resultType="memberdto" >
select * from member limit 
	<foreach collection="array" item="num" separator="," >
	 	#{num}
	</foreach>
</select>
 -->


	<select id="login" resultType="memberdto" parameterType="memberdto">
		select * from member 
		
		where id = #{id} and password = #{password}
	</select>


</mapper>



<!-- <insert id="insert" parameterType="hashMap">
	<![CDATA[]]> : 원시 문자열. <>등이 있어도 태그로 인식하지 않는다.
	<![CDATA[insert into text_table (title,writer,contents) values (#{title}, #{writer}, #{contents})]]>
	insert into text_table (title,writer,contents) values (#{title}, #{writer}, #{contents})
	</insert> -->
